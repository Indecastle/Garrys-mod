// animation
--@name animation
--@author Markiz
--@client

local Animation = "original_dance1"
local MusicAnimation = "weapons/guitar/shmara.ogg" -- or nill
--local MusicAnimation = "weapons/guitar/animeshniki.ogg" -- or nill
--local MusicAnimation = "mmd/original_dance1.mp3" -- or nill

local Speed = 1.2
local Volume = 0.4

local Target = owner()
--Target = find.playersByName("mark")[1]
/*Target = find.allPlayers(function(p)
    if p:getSteamID() == "STEAM_0:0:582893321" then
        return true
    end
end)[1]*/
--print(Target)

--if player() ~= Target then return end

for i, p in ipairs(find.allPlayers()) do
    --p:setAnimation("taunt_dance", nil, 1, true, nil, nil)
    --p:setAnimationLoop(false)
    --p:resetAnimation()
end

Target:setAnimation(Animation, nil, Speed, false, nil, nil)
--Target:resetAnimation()

-- Player:setAnimation(number or string sequence, number or nil progress, number or nil rate, boolean or nil loop, boolean or nil auto_advance, string or number or nil act)


--timer.create("anim1", 0.9, 0, function()
--    Target:setAnimation("snap", 0.3, 0.2, false, nil, nil)
--end)


bass.loadFile("sound/"..MusicAnimation, "3d noblock", function(snd)
    --if snd then
        snd:setPitch(Speed)
        snd:setVolume(Volume)
        hook.add("think", "MusicDance", function()
            snd:setPos(Target:getPos())
        end)
    --end
end)


/*
smooth_ride
snap
dancemoves
mask_off
bunnyhop
balletspin
bendi
*/
